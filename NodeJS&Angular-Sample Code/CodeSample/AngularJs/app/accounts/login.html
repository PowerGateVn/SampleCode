<ion-view cache-view="false" ng-controller="LoginCtrl as vm">
    <ion-header-bar class="push_navbar">
        <div class="push_navbar-title">
            <h2>Canari</h2>
        </div>
    </ion-header-bar>
    <ion-content>
        <div class="push_content">
            <div class="push_login-block">
                <a ng-click="facebookLogin()" class="push_lg-btn push_btn-fb">Log in with Facebook</a>
                <div class="push_divider">
                    <span>or</span>
                </div>
                <form name="loginForm" id="loginForm" novalidate>
                    <div class="form-group" ng-class="{'input-error' : loginForm.username.$invalid && (loginForm.username.$touched || loginForm.$submitted)}">
                        <div class="input-group">
                            <span class="input-group-addon"><i class="fa fa-envelope-o"></i></span>
                            <input class="username form-control" type="text" placeholder="Email" name="username" ng-model="vm.account.username" required />
                        </div>
                    </div>
                    <div class="form-group" ng-class="{'input-error' : loginForm.password.$invalid && (loginForm.password.$touched || loginForm.$submitted)}">
                        <div class="input-group">
                            <span class="input-group-addon"><i class="fa fa-lock"></i></span>
                            <input class="password form-control" type="password" placeholder="Password" name="password" ng-model="vm.account.password" required />
                        </div>
                    </div>
                    <span id="loginError" style="color:red">{{vm.msg}}</span>
                    <input type="submit" ng-click="vm.doLogin(loginForm.$valid)" class="push_lg-btn push_btn-green" value="Log in">
                </form>
                <a href="#/app/forgot-password" class="push_forgot-link">Forgot password?</a>
                <div class="push_divider">
                    <span>or</span>
                </div>
                <a href="#/app/register" class="push_lg-btn push_btn-green">Sign Up with Email</a>
            </div>
        </div>
    </ion-content>
</ion-view>